[gd_scene load_steps=24 format=3 uid="uid://chloohjqvqgys"]

[ext_resource type="PackedScene" uid="uid://cg3hhcm4bnihs" path="res://Player/Player.tscn" id="1_1c6xn"]
[ext_resource type="PackedScene" uid="uid://f7gde8be6fmh" path="res://Prefabs/Small_Door.tscn" id="2_fxtwy"]
[ext_resource type="Material" uid="uid://dcswt4l5fm85b" path="res://Dev_Textures/Dev_White.tres" id="2_vr3vd"]
[ext_resource type="Material" uid="uid://dlj5nacalp6v0" path="res://Dev_Textures/Dev_Purple.tres" id="3_36qr6"]
[ext_resource type="PackedScene" uid="uid://o0evi0fsos01" path="res://Prefabs/Big_Door.tscn" id="3_wcbfx"]
[ext_resource type="PackedScene" uid="uid://duu2hhu4jsm7d" path="res://enemy/enemy.tscn" id="6_85m4m"]
[ext_resource type="PackedScene" uid="uid://bdnfwfe1vq8d6" path="res://pickups/ammo_pickup.tscn" id="7_dqpym"]
[ext_resource type="PackedScene" uid="uid://j4ebwxuifcsd" path="res://pickups/Blue_Key.tscn" id="8_vujmr"]
[ext_resource type="PackedScene" uid="uid://fnbh82ut1tay" path="res://Prefabs/Blue_Door.tscn" id="9_u1rao"]
[ext_resource type="PackedScene" uid="uid://cqci1p8mdso8j" path="res://Prefabs/Red_Door.tscn" id="10_sv6gy"]
[ext_resource type="PackedScene" uid="uid://cngb71e0mi5qs" path="res://pickups/Red_Key.tscn" id="11_4hvv4"]
[ext_resource type="PackedScene" uid="uid://cvi2i34hm7ue5" path="res://pickups/ZIP_File.tscn" id="12_lso1h"]
[ext_resource type="PackedScene" uid="uid://dt36oxlgqnjtx" path="res://pickups/health_pickup.tscn" id="13_b64ma"]

[sub_resource type="Animation" id="Animation_1y15o"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../Target:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 2.85079, -9.78359)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(-3.67464, 2.85079, -9.78359)]
}

[sub_resource type="Animation" id="Animation_jhbmn"]
resource_name = "target_1"
loop_mode = 2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../Target:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5, 1),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector3(0, 2.85079, -9.78359), Vector3(0, 5.60139, -9.78359), Vector3(0, 0.601388, -9.78359)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.2, 0.4, 0.6, 0.8, 1),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Vector3(-3.67464, 2.85079, -9.78359), Vector3(-2.28482, 3.9616, -9.78359), Vector3(-5.1582, 1.42523, -9.78359), Vector3(-5.23404, 3.92761, -9.78359), Vector3(-2.54872, 1.44253, -9.78359), Vector3(-3.67464, 2.85079, -9.78359)]
}

[sub_resource type="Animation" id="Animation_eauej"]
resource_name = "target_2"
loop_mode = 2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2, 0.4, 0.6, 0.8, 1),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Vector3(-3.67464, 2.85079, -9.78359), Vector3(-2.28482, 3.9616, -9.78359), Vector3(-5.1582, 1.42523, -9.78359), Vector3(-5.23404, 3.92761, -9.78359), Vector3(-2.54872, 1.44253, -9.78359), Vector3(-3.67464, 2.85079, -9.78359)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_6kl21"]
_data = {
"RESET": SubResource("Animation_1y15o"),
"target_1": SubResource("Animation_jhbmn"),
"target_2": SubResource("Animation_eauej")
}

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_7tjli"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_j0moe"]
sky_material = SubResource("ProceduralSkyMaterial_7tjli")

[sub_resource type="Environment" id="Environment_08nny"]
background_mode = 2
sky = SubResource("Sky_j0moe")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_nmyss"]
albedo_color = Color(0.645309, 0.00146709, 1.44392e-07, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_nljpv"]
albedo_color = Color(0.645309, 0.00146709, 1.44392e-07, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_pb45u"]
albedo_color = Color(0.645309, 0.00146709, 1.44392e-07, 1)

[node name="World" type="Node3D"]

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
root_node = NodePath("../Target2")
libraries = {
"": SubResource("AnimationLibrary_6kl21")
}
autoplay = "target_1"

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_08nny")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866023, -0.433016, 0.250001, 0, 0.499998, 0.866027, -0.500003, 0.749999, -0.43301, 0, 0, 0)
shadow_enabled = true

[node name="Target" type="CSGSphere3D" parent="." groups=["target"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.85079, -9.78359)
use_collision = true
material = SubResource("StandardMaterial3D_nmyss")

[node name="Target2" type="CSGSphere3D" parent="." groups=["target"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.67464, 2.85079, -9.78359)
use_collision = true
material = SubResource("StandardMaterial3D_nljpv")

[node name="Target3" type="CSGSphere3D" parent="." groups=["target"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.01896, 2.85079, -9.78359)
use_collision = true
material = SubResource("StandardMaterial3D_pb45u")

[node name="Player" parent="." instance=ExtResource("1_1c6xn")]

[node name="Mesh" type="Node3D" parent="."]

[node name="CSGBox3D" type="CSGBox3D" parent="Mesh"]
transform = Transform3D(39.8341, 0, 0, 0, 0.103253, 0, 0, 0, 52.2395, 0, 0, 0)
material_override = ExtResource("2_vr3vd")
use_collision = true

[node name="CSGBox3D2" type="CSGBox3D" parent="Mesh"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.556772, -4.63352)
material_override = ExtResource("3_36qr6")
use_collision = true

[node name="CSGBox3D4" type="CSGBox3D" parent="Mesh"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.385935, 11.2039)
material_override = ExtResource("3_36qr6")
use_collision = true
size = Vector3(17.3564, 0.658325, 6.2666)

[node name="CSGBox3D5" type="CSGBox3D" parent="Mesh/CSGBox3D4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.360317, 0)
material_override = ExtResource("3_36qr6")
operation = 2
use_collision = true
size = Vector3(15.9763, 1.35156, 5.37305)

[node name="CSGPolygon3D" type="CSGPolygon3D" parent="Mesh"]
transform = Transform3D(-1.46623e-07, 0, 2.02954, 0, 1.85867, 0, -3.35433, 0, -8.87139e-08, -13.0098, 0.0280893, -4.29233)
material_override = ExtResource("2_vr3vd")
use_collision = true
polygon = PackedVector2Array(0, 0, 1, 1, 1, 0)

[node name="CSGPolygon3D2" type="CSGPolygon3D" parent="Mesh"]
transform = Transform3D(-1.46623e-07, 0, 2.02954, 0, 1.85867, 0, -3.35433, 0, -8.87139e-08, -11.0098, 0.0280893, -4.29233)
material_override = ExtResource("2_vr3vd")
use_collision = true
polygon = PackedVector2Array(0, 0, 0.906602, 1.22852, 1, 0)

[node name="CSGPolygon3D4" type="CSGPolygon3D" parent="Mesh"]
transform = Transform3D(3.35433, 0, -4.58848e-13, 0, 1.66796, 0, -5.68434e-13, 0, 8.19137, -11.0424, 0.0280893, -15.8467)
material_override = ExtResource("2_vr3vd")
use_collision = true
polygon = PackedVector2Array(0, 0, 0.906602, 1.22852, 1, 0)

[node name="CSGPolygon3D5" type="CSGPolygon3D" parent="Mesh"]
transform = Transform3D(-3.35433, 0, -7.16112e-07, 0, 1.66796, 0, 2.93245e-07, 0, -8.19137, 11.0828, 0.0280893, -24.048)
material_override = ExtResource("2_vr3vd")
use_collision = true
polygon = PackedVector2Array(0, 0, 0.906602, 1.22852, 1, 0)

[node name="CSGPolygon3D3" type="CSGPolygon3D" parent="Mesh"]
transform = Transform3D(-1.46623e-07, 0, 2.02954, 0, 1.85867, 0, -3.35433, 0, -8.87139e-08, -9.00976, 0.0280893, -4.29233)
material_override = ExtResource("2_vr3vd")
use_collision = true
polygon = PackedVector2Array(0, 0, 0.702439, 1.53509, 1, 0)

[node name="CSGBox3D3" type="CSGBox3D" parent="Mesh"]
transform = Transform3D(16.0808, 0, 0, 0, 2.18035, 0, 0, 0, 8.20637, 0, 1, -19.9461)
material_override = ExtResource("2_vr3vd")
use_collision = true

[node name="Small_Door" parent="." instance=ExtResource("2_fxtwy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.31099, 0.552277, -5.6323)

[node name="Big_Door" parent="." instance=ExtResource("3_wcbfx")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 14, 0.548991, -6)

[node name="Enemy" parent="." node_paths=PackedStringArray("player") instance=ExtResource("6_85m4m")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.17439, 2.07047, 10.9606)
player = NodePath("../Player")

[node name="Enemy2" parent="." node_paths=PackedStringArray("player") instance=ExtResource("6_85m4m")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.174393, 2.07047, 10.9606)
player = NodePath("../Player")

[node name="Enemy3" parent="." node_paths=PackedStringArray("player") instance=ExtResource("6_85m4m")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.82561, 2.07047, 10.9606)
player = NodePath("../Player")

[node name="Enemy4" parent="." node_paths=PackedStringArray("player") instance=ExtResource("6_85m4m")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.82561, 2.07047, 10.9606)
player = NodePath("../Player")

[node name="Enemy5" parent="." node_paths=PackedStringArray("player") instance=ExtResource("6_85m4m")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.82561, 2.07047, 10.9606)
player = NodePath("../Player")

[node name="Enemy6" parent="." node_paths=PackedStringArray("player") instance=ExtResource("6_85m4m")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.17439, 2.07047, 10.9606)
player = NodePath("../Player")

[node name="Enemy7" parent="." node_paths=PackedStringArray("player") instance=ExtResource("6_85m4m")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.17439, 2.07047, 10.9606)
player = NodePath("../Player")

[node name="Ammo" type="Node3D" parent="."]

[node name="AmmoPickup" parent="Ammo" instance=ExtResource("7_dqpym")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12.681, 0.205622, 5.51744)

[node name="AmmoPickup2" parent="Ammo" instance=ExtResource("7_dqpym")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12.681, 0.205622, 7.51744)

[node name="AmmoPickup3" parent="Ammo" instance=ExtResource("7_dqpym")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12.681, 0.205622, 9.51744)

[node name="AmmoPickup4" parent="Ammo" instance=ExtResource("7_dqpym")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12.681, 0.205622, 11.5174)

[node name="AmmoPickup5" parent="Ammo" instance=ExtResource("7_dqpym")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12.681, 0.205622, 13.5174)

[node name="AmmoPickup6" parent="Ammo" instance=ExtResource("7_dqpym")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12.681, 0.205622, 15.5174)

[node name="AmmoPickup7" parent="Ammo" instance=ExtResource("7_dqpym")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12.681, 0.205622, 17.5174)

[node name="AmmoPickup8" parent="Ammo" instance=ExtResource("7_dqpym")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12.681, 0.205622, 19.5174)

[node name="AmmoPickup9" parent="Ammo" instance=ExtResource("7_dqpym")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12.681, 0.205622, 21.5174)

[node name="AmmoPickup10" parent="Ammo" instance=ExtResource("7_dqpym")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -14.681, 0.205622, 5.51744)

[node name="AmmoPickup11" parent="Ammo" instance=ExtResource("7_dqpym")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -14.681, 0.205622, 7.51744)

[node name="AmmoPickup12" parent="Ammo" instance=ExtResource("7_dqpym")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -14.681, 0.205622, 9.51744)

[node name="AmmoPickup13" parent="Ammo" instance=ExtResource("7_dqpym")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -14.681, 0.205622, 11.5174)

[node name="AmmoPickup14" parent="Ammo" instance=ExtResource("7_dqpym")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -14.681, 0.205622, 13.5174)

[node name="AmmoPickup15" parent="Ammo" instance=ExtResource("7_dqpym")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -14.681, 0.205622, 15.5174)

[node name="AmmoPickup16" parent="Ammo" instance=ExtResource("7_dqpym")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -14.681, 0.205622, 17.5174)

[node name="AmmoPickup17" parent="Ammo" instance=ExtResource("7_dqpym")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -14.681, 0.205622, 19.5174)

[node name="AmmoPickup18" parent="Ammo" instance=ExtResource("7_dqpym")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -14.681, 0.205622, 21.5174)

[node name="AmmoPickup19" parent="Ammo" instance=ExtResource("7_dqpym")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -16.681, 0.205622, 5.51744)

[node name="AmmoPickup20" parent="Ammo" instance=ExtResource("7_dqpym")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -16.681, 0.205622, 7.51744)

[node name="AmmoPickup21" parent="Ammo" instance=ExtResource("7_dqpym")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -16.681, 0.205622, 9.51744)

[node name="AmmoPickup22" parent="Ammo" instance=ExtResource("7_dqpym")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -16.681, 0.205622, 11.5174)

[node name="AmmoPickup23" parent="Ammo" instance=ExtResource("7_dqpym")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -16.681, 0.205622, 13.5174)

[node name="AmmoPickup24" parent="Ammo" instance=ExtResource("7_dqpym")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -16.681, 0.205622, 15.5174)

[node name="AmmoPickup25" parent="Ammo" instance=ExtResource("7_dqpym")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -16.681, 0.205622, 17.5174)

[node name="AmmoPickup26" parent="Ammo" instance=ExtResource("7_dqpym")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -16.681, 0.205622, 19.5174)

[node name="AmmoPickup27" parent="Ammo" instance=ExtResource("7_dqpym")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -16.681, 0.205622, 21.5174)

[node name="BlueKey" parent="." instance=ExtResource("8_vujmr")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 17.5604, 0.051627, 6.37443)

[node name="Blue_Door" parent="." instance=ExtResource("9_u1rao")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 18.6256, 0.531872, 0.770847)

[node name="Red_Door" parent="." instance=ExtResource("10_sv6gy")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 18.686, 0.544922, 13.1504)

[node name="RedKey" parent="." instance=ExtResource("11_4hvv4")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 17.8312, 0.0516261, 19.2711)

[node name="ZIP_File" parent="." instance=ExtResource("12_lso1h")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 14.7826, 0.0516265, 17.4679)

[node name="HealthPickup" parent="." instance=ExtResource("13_b64ma")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 11.3453, 0.227083, 17.4976)

[node name="HealthPickup2" parent="." instance=ExtResource("13_b64ma")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.3453, 0.227083, 17.4976)

[node name="HealthPickup3" parent="." instance=ExtResource("13_b64ma")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.34526, 0.227083, 17.4976)

[node name="HealthPickup4" parent="." instance=ExtResource("13_b64ma")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.34526, 0.227083, 17.4976)

[node name="HealthPickup5" parent="." instance=ExtResource("13_b64ma")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.34526, 0.227083, 17.4976)

[connection signal="blue_key_found" from="BlueKey/Area3D" to="Blue_Door/Door_Trigger_Area3D" method="_on_area_3d_blue_key_found"]
[connection signal="red_key_found" from="RedKey/Area3D" to="Red_Door/Door_Trigger_Area3D" method="_on_area_3d_red_key_found"]

[editable path="BlueKey"]
[editable path="Blue_Door"]
[editable path="Red_Door"]
[editable path="RedKey"]
